{"ast":null,"code":"const fs = require('fs');\n\nimport express from \"express\";\nconst app = express();\napp.get('/', (req, res) => {\n  res.send('Hello World!');\n});\napp.listen(5000);\n/** use() 영역 */\n\napp.use(bodyParser.urlencoded({\n  extended: false\n}));\n/** setting 영역 */\n\napp.locals.pretty = true;\n/** set() 영역 */\n\napp.set('views', './views_file');\napp.set('view engine', 'pug');\napp.listen('9100', () => {\n  console.log('---- Connected 9100 port from app_file.js ----');\n});\nexport default function LetterConverJson(user, title, contents) {\n  const directory = \"../TempLetter/\";\n  var Data = {\n    User: user,\n    Title: title,\n    Contents: contents\n  };\n  console.log(user, title, contents, Data);\n\n  const getTitle = user => {\n    const d = new Date();\n    const yyyy = d.getFullYear();\n    const mm = d.getMonth() + 1;\n    const dd = d.getDate();\n    const hh = d.getHours();\n    const m = d.getMinutes();\n    const s = d.getSeconds();\n    return `${yyyy}.${mm}.${dd}/${hh}.${m}.${s}.${user}`;\n  };\n\n  app.post('/topic', (req, res) => {\n    var title = req.body.title;\n    var description = req.body.description;\n    fs.writeFile('data/' + title, description, err => {\n      if (err) {\n        // 에러가 발생하면 500 코드를 반환시키고 에러 메시지를 출력해준다.\n        console.log(err);\n        res.status(500).send('Internal Server Error');\n      }\n\n      res.send('성공!');\n    });\n  });\n  fs.writeFile(\"../TempLetter/temp.json\", JSON.stringify(Data), function (err) {\n    if (err) console.log('파일 쓰기 에러');\n  });\n}\n_c = LetterConverJson;\n\nvar _c;\n\n$RefreshReg$(_c, \"LetterConverJson\");","map":{"version":3,"sources":["/Users/leedy2491/Document/Develope/BootCampLetter/src/components/views/Letter/Sections/LetterApi/LetterConvertJson.ts"],"names":["fs","require","express","app","get","req","res","send","listen","use","bodyParser","urlencoded","extended","locals","pretty","set","console","log","LetterConverJson","user","title","contents","directory","Data","User","Title","Contents","getTitle","d","Date","yyyy","getFullYear","mm","getMonth","dd","getDate","hh","getHours","m","getMinutes","s","getSeconds","post","body","description","writeFile","err","status","JSON","stringify"],"mappings":"AAAA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,OAAOC,OAAP,MAAoB,SAApB;AACA,MAAMC,GAAwB,GAAGD,OAAO,EAAxC;AAEAC,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,KAAc;AACvBA,EAAAA,GAAG,CAACC,IAAJ,CAAS,cAAT;AACH,CAFD;AAIAJ,GAAG,CAACK,MAAJ,CAAW,IAAX;AAEA;;AACAL,GAAG,CAACM,GAAJ,CAAQC,UAAU,CAACC,UAAX,CAAsB;AAACC,EAAAA,QAAQ,EAAE;AAAX,CAAtB,CAAR;AAEA;;AACAT,GAAG,CAACU,MAAJ,CAAWC,MAAX,GAAoB,IAApB;AAEA;;AACAX,GAAG,CAACY,GAAJ,CAAQ,OAAR,EAAiB,cAAjB;AACAZ,GAAG,CAACY,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;AAEAZ,GAAG,CAACK,MAAJ,CAAW,MAAX,EAAmB,MAAM;AACrBQ,EAAAA,OAAO,CAACC,GAAR,CAAY,gDAAZ;AACH,CAFD;AAKA,eAAe,SAASC,gBAAT,CAA0BC,IAA1B,EAAwCC,KAAxC,EAAuDC,QAAvD,EAAyE;AACpF,QAAMC,SAAS,GAAG,gBAAlB;AACA,MAAIC,IAAI,GAAG;AACPC,IAAAA,IAAI,EAAEL,IADC;AAEPM,IAAAA,KAAK,EAAEL,KAFA;AAGPM,IAAAA,QAAQ,EAAEL;AAHH,GAAX;AAKAL,EAAAA,OAAO,CAACC,GAAR,CAAYE,IAAZ,EAAkBC,KAAlB,EAAyBC,QAAzB,EAAmCE,IAAnC;;AACA,QAAMI,QAAQ,GAAIR,IAAD,IAAkB;AAC/B,UAAMS,CAAC,GAAG,IAAIC,IAAJ,EAAV;AACA,UAAMC,IAAI,GAAGF,CAAC,CAACG,WAAF,EAAb;AACA,UAAMC,EAAE,GAAGJ,CAAC,CAACK,QAAF,KAAe,CAA1B;AACA,UAAMC,EAAE,GAAGN,CAAC,CAACO,OAAF,EAAX;AACA,UAAMC,EAAE,GAAGR,CAAC,CAACS,QAAF,EAAX;AACA,UAAMC,CAAC,GAAGV,CAAC,CAACW,UAAF,EAAV;AACA,UAAMC,CAAC,GAAGZ,CAAC,CAACa,UAAF,EAAV;AACA,WAAQ,GAAEX,IAAK,IAAGE,EAAG,IAAGE,EAAG,IAAGE,EAAG,IAAGE,CAAE,IAAGE,CAAE,IAAGrB,IAAK,EAAnD;AACH,GATD;;AAWAhB,EAAAA,GAAG,CAACuC,IAAJ,CAAS,QAAT,EAAmB,CAACrC,GAAD,EAAUC,GAAV,KAAsB;AACrC,QAAIc,KAAK,GAAGf,GAAG,CAACsC,IAAJ,CAASvB,KAArB;AACA,QAAIwB,WAAW,GAAGvC,GAAG,CAACsC,IAAJ,CAASC,WAA3B;AACA5C,IAAAA,EAAE,CAAC6C,SAAH,CAAa,UAAUzB,KAAvB,EAA8BwB,WAA9B,EAA4CE,GAAD,IAAa;AACpD,UAAGA,GAAH,EAAQ;AACJ;AACA9B,QAAAA,OAAO,CAACC,GAAR,CAAY6B,GAAZ;AACAxC,QAAAA,GAAG,CAACyC,MAAJ,CAAW,GAAX,EAAgBxC,IAAhB,CAAqB,uBAArB;AACH;;AACDD,MAAAA,GAAG,CAACC,IAAJ,CAAS,KAAT;AACH,KAPD;AAQH,GAXD;AAcAP,EAAAA,EAAE,CAAC6C,SAAH,CAAa,yBAAb,EAAwCG,IAAI,CAACC,SAAL,CAAe1B,IAAf,CAAxC,EAA8D,UAAUuB,GAAV,EAAoB;AAC9E,QAAIA,GAAJ,EACI9B,OAAO,CAACC,GAAR,CAAY,UAAZ;AACP,GAHD;AAIH;KArCuBC,gB","sourcesContent":["const fs = require('fs');\nimport express from \"express\";\nconst app: express.Application = express();\n\napp.get('/', (req, res) => {\n    res.send('Hello World!')\n})\n\napp.listen(5000)\n\n/** use() 영역 */\napp.use(bodyParser.urlencoded({extended: false}));\n\n/** setting 영역 */\napp.locals.pretty = true;\n\n/** set() 영역 */\napp.set('views', './views_file');\napp.set('view engine', 'pug');\n\napp.listen('9100', () => {\n    console.log('---- Connected 9100 port from app_file.js ----');\n});\n\n\nexport default function LetterConverJson(user: string, title: string, contents: string) {\n    const directory = \"../TempLetter/\"\n    var Data = {\n        User: user,\n        Title: title,\n        Contents: contents\n    }\n    console.log(user, title, contents, Data)\n    const getTitle = (user: string) => {\n        const d = new Date();\n        const yyyy = d.getFullYear();\n        const mm = d.getMonth() + 1;\n        const dd = d.getDate();\n        const hh = d.getHours();\n        const m = d.getMinutes();\n        const s = d.getSeconds()\n        return `${yyyy}.${mm}.${dd}/${hh}.${m}.${s}.${user}`;\n    };\n\n    app.post('/topic', (req:any, res:any) => {\n        var title = req.body.title;\n        var description = req.body.description;\n        fs.writeFile('data/' + title, description, (err:any) => {\n            if(err) {\n                // 에러가 발생하면 500 코드를 반환시키고 에러 메시지를 출력해준다.\n                console.log(err);\n                res.status(500).send('Internal Server Error');\n            }\n            res.send('성공!');\n        });\n    });\n\n\n    fs.writeFile(\"../TempLetter/temp.json\", JSON.stringify(Data), function (err: any) {\n        if (err)\n            console.log('파일 쓰기 에러');\n    });\n}"]},"metadata":{},"sourceType":"module"}